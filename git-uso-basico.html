<!doctype html>
<html class="no-js" lang="es" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Índice" href="genindex.html" /><link rel="search" title="Búsqueda" href="search.html" /><link rel="next" title="Uso avanzado de Git" href="git-uso-avanzado.html" /><link rel="prev" title="Aspectos básicos de Git" href="git-basico.html" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>Uso básico de Git - documentación de Taller de Git - 0.0.1</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">documentación de Taller de Git - 0.0.1</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">documentación de Taller de Git - 0.0.1</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Búsqueda" name="q" aria-label="Búsqueda">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contenidos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cvs.html">Control de versiones</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduccion.html">Introducción a git</a></li>
<li class="toctree-l1"><a class="reference internal" href="git-basico.html">Aspectos básicos de Git</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Uso básico de Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="git-uso-avanzado.html">Uso avanzado de Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="github.html">Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="glosario.html">Glosario</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/git-uso-basico.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="uso-basico-de-git">
<h1>Uso básico de Git<a class="headerlink" href="#uso-basico-de-git" title="Link to this heading">¶</a></h1>
<section id="crear-un-proyecto">
<h2>Crear un proyecto<a class="headerlink" href="#crear-un-proyecto" title="Link to this heading">¶</a></h2>
<p>Crearemos un proyecto sencillo con <a class="reference external" href="https://opendylan.org">Opendylan</a> para practicar Git:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dylan<span class="w"> </span>new<span class="w"> </span>application<span class="w"> </span>curso-de-git
</pre></div>
</div>
<p>La herramienta <code class="docutils literal notranslate"><span class="pre">dylan</span></code> nos ayudará a crear una estructura de
directorios para el proyecto:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tree<span class="w"> </span>curso-de-git
</pre></div>
</div>
<p>La salida es <em>parecida</em> a lo siguiente (lo he simplificado):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curso-de-git/</span>
<span class="go">├── curso-de-git-app.dylan</span>
<span class="go">├── curso-de-git-app-library.dylan</span>
<span class="go">├── curso-de-git-app.lid</span>
<span class="go">├── curso-de-git.dylan</span>
<span class="go">├── curso-de-git.lid</span>
<span class="go">├── dylan-package.json</span>
<span class="go">├── library.dylan</span>
<span class="go">├── _packages</span>
<span class="go">│   ├── command-line-parser</span>
<span class="go">│   │   ├── 3.1.1</span>
<span class="go">│   │   └── current -&gt; /home/fraya/Dylan/curso-de-git/_packages/command-line-parser/3.1.1</span>
<span class="go">│   ├── json</span>
<span class="go">│   │   ├── 1.0.0</span>
<span class="go">│   │   └── current -&gt; /home/fraya/Dylan/curso-de-git/_packages/json/1.0.0</span>
<span class="go">│   ├── strings</span>
<span class="go">│   │   ├── 1.1.0</span>
<span class="go">│   │   └── current -&gt; /home/fraya/Dylan/curso-de-git/_packages/strings/1.1.0</span>
<span class="go">│   └── testworks</span>
<span class="go">│       ├── 3.2.0</span>
<span class="go">│       └── current -&gt; /home/fraya/Dylan/curso-de-git/_packages/testworks/3.2.0</span>
<span class="go">├── registry</span>
<span class="go">│   └── x86_64-linux</span>
<span class="go">└── tests</span>
<span class="go">        ├── curso-de-git-test-suite.dylan</span>
<span class="go">        ├── curso-de-git-test-suite.lid</span>
<span class="go">        └── library.dylan</span>
</pre></div>
</div>
<p>Entraremos en el directorio <code class="docutils literal notranslate"><span class="pre">`curso-de-git</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>curso-de-git
</pre></div>
</div>
</section>
<section id="crear-el-repositorio">
<h2>Crear el repositorio<a class="headerlink" href="#crear-el-repositorio" title="Link to this heading">¶</a></h2>
<p>Para crear un nuevo repositorio se usa la orden <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Inicialización del repositorio</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>init
<span class="go">hint: Using &#39;master&#39; as the name for the initial branch. This default branch name</span>
<span class="go">hint: is subject to change. To configure the initial branch name to use in all</span>
<span class="go">hint: of your new repositories, which will suppress this warning, call:</span>
<span class="go">hint:</span>
<span class="go">hint:        git config --global init.defaultBranch &lt;name&gt;</span>
<span class="go">hint:</span>
<span class="go">hint: Names commonly chosen instead of &#39;master&#39; are &#39;main&#39;, &#39;trunk&#39; and</span>
<span class="go">hint: &#39;development&#39;. The just-created branch can be renamed via this command:</span>
<span class="go">hint:</span>
<span class="go">hint:        git branch -m &lt;name&gt;</span>
<span class="go">Initialized empty Git repository in /home/fraya/Dylan/curso-de-git/.git/</span>
</pre></div>
</div>
</div>
<p>Esto creará un directorio <code class="docutils literal notranslate"><span class="pre">.git</span></code> para almacenar nuestro repositorio
local.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Tradicionalmente a la rama inicial de un proyecto se la llamaba
<em>master</em>, pero esta palabra en inglés tiene connotaciones
esclavistas ya que también significa <em>amo</em>, en la relación
amo/esclavo.</p>
<p>Las nuevas tendencias en USA pretenden cambiar las palabras sin
cambiar sus actos, pensando que al desaparecer la palabra «amo»
desaparecen los esclavos. Por ello <em>git</em> nos da una pista por si
queremos cambiar la rama inicial y poner <em>main</em> de nombre.</p>
<p>Podemos ser politicamente correctos y cambiarlo para todos los
nuevos repositorios, evitando este mensaje de advertencia</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git config --global init.defaultBranch main</span>
</pre></div>
</div>
<p>siempre que seamos conscientes de que sigue habiendo esclavitud.</p>
</div>
</section>
<section id="anadir-la-aplicacion">
<h2>Añadir la aplicación<a class="headerlink" href="#anadir-la-aplicacion" title="Link to this heading">¶</a></h2>
<p>Ahora almacenaríamos todos los archivos creados en el repositorio para
trabajar, pero antes miremos lo que tenemos (líneas resaltadas):</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Estado de nuestro repositorio</span><a class="headerlink" href="#id3" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status

<span class="hll"><span class="go">On branch main</span>
</span>
<span class="hll"><span class="go">No commits yet</span>
</span>
<span class="hll"><span class="go">Untracked files:</span>
</span><span class="go">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="go">        _packages/</span>
<span class="go">        curso-de-git-app-library.dylan</span>
<span class="go">        curso-de-git-app.dylan</span>
<span class="go">        curso-de-git-app.lid</span>
<span class="go">        curso-de-git.dylan</span>
<span class="go">        curso-de-git.lid</span>
<span class="go">        dylan-package.json</span>
<span class="go">        library.dylan</span>
<span class="go">        registry/</span>
<span class="go">        tests/</span>

<span class="hll"><span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</span></pre></div>
</div>
</div>
<p>Estamos en la rama (<em>branch</em>) <em>main</em> y no tenemos ninguna
confirmación (<em>commits</em>) aún. Tenemos una lista de ficheros sin
seguimiento (<em>untracked</em>) y podemos añadirlos usando <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>No añadas los ficheros todavía y sigue leyendo.</p>
</div>
<section id="gitignore">
<h3>.gitignore<a class="headerlink" href="#gitignore" title="Link to this heading">¶</a></h3>
<p>Sin embargo dentro de los ficheros <em>untracked</em> hay ficheros que no
necesitamos en nuestro repositorio.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Directorios que no queremos incluir en el repositorio</span><a class="headerlink" href="#id4" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status

<span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">Untracked files:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="hll"><span class="go">        _packages/</span>
</span><span class="go">        curso-de-git-app-library.dylan</span>
<span class="go">        curso-de-git-app.dylan</span>
<span class="go">        curso-de-git-app.lid</span>
<span class="go">        curso-de-git.dylan</span>
<span class="go">        curso-de-git.lid</span>
<span class="go">        dylan-package.json</span>
<span class="go">        library.dylan</span>
<span class="hll"><span class="go">        registry/</span>
</span><span class="go">        tests/</span>
</pre></div>
</div>
</div>
<p>Los directorios <code class="docutils literal notranslate"><span class="pre">_packages</span></code> y <code class="docutils literal notranslate"><span class="pre">registry</span></code> son creados por la
herramienta <code class="docutils literal notranslate"><span class="pre">dylan</span></code>. Estos datos pueden ser creados de nuevo usando
el comando <code class="docutils literal notranslate"><span class="pre">dylan</span> <span class="pre">update</span></code> en este directorio cuando lo
necesitemos. Por lo tanto <strong>no deben estar dentro de nuestro
repositorio</strong>. Para evitar que estos ficheros entren dentro por error,
crearemos un fichero llamado <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> con una lista de ficheros
y directorios que no queremos que git incluya ni que aparezcan en los
comandos.</p>
<p>Pondremos el siguiente contenido en <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code></p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">.gitignore</span><a class="headerlink" href="#id5" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># directorios de desarrollo</span>

<span class="o">/</span><span class="n">_packages</span><span class="o">/</span>
<span class="o">/</span><span class="n">registry</span><span class="o">/</span>

<span class="c1"># ficheros de copia de seguridad</span>

<span class="o">*~</span>
<span class="o">*.</span><span class="n">bak</span>
</pre></div>
</div>
</div>
<p>Después de grabar el fichero <code class="docutils literal notranslate"><span class="pre">`.gitignore</span></code> volvemos a ver el estado
del repositorio:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Estado del repositorio con <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code></span><a class="headerlink" href="#id6" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status
<span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="go">Untracked files:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="go">        .gitignore</span>
<span class="go">        curso-de-git-app-library.dylan</span>
<span class="go">        curso-de-git-app.dylan</span>
<span class="go">        curso-de-git-app.lid</span>
<span class="go">        curso-de-git.dylan</span>
<span class="go">        curso-de-git.lid</span>
<span class="go">        dylan-package.json</span>
<span class="go">        library.dylan</span>
<span class="go">        tests/</span>

<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
</div>
</div>
<p>Vemos que los directorios <code class="docutils literal notranslate"><span class="pre">_packages</span></code> y <code class="docutils literal notranslate"><span class="pre">registry</span></code> ya no aparecen
entre los ficheros sin seguimiento. De la misma manera desaparecerían
cualquier fichero terminado en <code class="docutils literal notranslate"><span class="pre">~</span></code> (copia de seguridad en Unix) o
<code class="docutils literal notranslate"><span class="pre">.bak</span></code> (copia de seguridad en Windows) <strong>en cualquier
subdirectorio</strong> (ya que no empieza la línea por <code class="docutils literal notranslate"><span class="pre">/</span></code> en
<code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>).</p>
</section>
<section id="ahora-si-anadimos-la-aplicacion">
<h3>Ahora sí, añadimos la aplicación<a class="headerlink" href="#ahora-si-anadimos-la-aplicacion" title="Link to this heading">¶</a></h3>
<p>Ya estamos preparados para añadir la aplicación. Podemos añadir los
ficheros uno a uno, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.gitignore</span></code> por ejemplo o añadirlos
todos a la vez, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code></p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Añadimos todos los ficheros al área de preparación o <em>staged</em></span><a class="headerlink" href="#id7" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>.
</pre></div>
</div>
</div>
<p>Volvemos a ver el estado del repositorio:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Estado tras añadir los ficheros</span><a class="headerlink" href="#id8" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status
<span class="go">On branch main</span>

<span class="go">No commits yet</span>

<span class="hll"><span class="go">Changes to be committed:</span>
</span><span class="hll"><span class="go">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span>
</span><span class="go">        new file:   .gitignore</span>
<span class="go">        new file:   curso-de-git-app-library.dylan</span>
<span class="go">        new file:   curso-de-git-app.dylan</span>
<span class="go">        new file:   curso-de-git-app.lid</span>
<span class="go">        new file:   curso-de-git.dylan</span>
<span class="go">        new file:   curso-de-git.lid</span>
<span class="go">        new file:   dylan-package.json</span>
<span class="go">        new file:   library.dylan</span>
<span class="go">        new file:   tests/curso-de-git-test-suite.dylan</span>
<span class="go">        new file:   tests/curso-de-git-test-suite.lid</span>
<span class="go">        new file:   tests/library.dylan</span>
</pre></div>
</div>
</div>
<p>Nos muestra que tenemos una lista de cambios en seguimiento preparados
para ser confirmados (<em>committed</em>). También nos muestra que podemos
sacarlos del área de seguimento (<em>unstage</em>) mediante el comando <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">rm</span> <span class="pre">--cached</span> <span class="pre">&lt;file&gt;...</span></code>.</p>
</section>
<section id="primera-confirmacion">
<h3>Primera confirmación<a class="headerlink" href="#primera-confirmacion" title="Link to this heading">¶</a></h3>
<p>No se trata de tu primera comunión ni de la confirmación de la Iglesia
sino de aceptar los ficheros en seguimiento y guardarlos en el
repositorio. Sin más dilación:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Revisión inicial&quot;</span>
</pre></div>
</div>
<p>Confirmamos con <em>commit</em> y escribimos un mensaje de confirmación
(<code class="docutils literal notranslate"><span class="pre">-m</span></code>) en la misma línea (más adelante veremos como hacerlo más
correcto).</p>
<p>La salida del comando es la siguiente:</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Salida de la orden de confirmación</span><a class="headerlink" href="#id9" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Revisión inicial&quot;</span>
<span class="hll"><span class="go">[main (root-commit) 81f67ea] Revisión inicial</span>
</span><span class="go">11 files changed, 122 insertions(+)</span>
<span class="go">create mode 100644 .gitignore</span>
<span class="go">create mode 100644 curso-de-git-app-library.dylan</span>
<span class="go">create mode 100644 curso-de-git-app.dylan</span>
<span class="go">create mode 100644 curso-de-git-app.lid</span>
<span class="go">create mode 100644 curso-de-git.dylan</span>
<span class="go">create mode 100644 curso-de-git.lid</span>
<span class="go">create mode 100644 dylan-package.json</span>
<span class="go">create mode 100644 library.dylan</span>
<span class="go">create mode 100644 tests/curso-de-git-test-suite.dylan</span>
<span class="go">create mode 100644 tests/curso-de-git-test-suite.lid</span>
<span class="go">create mode 100644 tests/library.dylan</span>
</pre></div>
</div>
</div>
<p>Nuestro repositorio tiene el siguiente aspecto:</p>
<blockquote>
<div><figure class="align-center" id="id10">
<div class="graphviz"><img src="_images/graphviz-9ac4ec02d794a5eb9d061ff3cf246e25c2b66f51.png" alt="digraph G {
        rankdir=&quot;RL&quot;;
        splines=line;

        c0

        {
            rank=same;
            node [
                style=filled,
                color=red,
                fillcolor=red,
                shape=rectangle,
                fontname=monospace,
                fontcolor=white
            ]
            c0 -&gt; &quot;81f67ea&quot; [dir=back]
            main -&gt; c0
        }
}" class="graphviz" /></div>
<figcaption>
<p><span class="caption-text">Rama master tras commit <code class="docutils literal notranslate"><span class="pre">81f67ea</span></code></span><a class="headerlink" href="#id10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
</section>
</section>
<section id="primer-cambio">
<h2>Primer cambio<a class="headerlink" href="#primer-cambio" title="Link to this heading">¶</a></h2>
<p>Vamos a compilar el programa y ejecutar las pruebas:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dylan<span class="w"> </span>build<span class="w"> </span>--all
</pre></div>
</div>
<p>Saldrá mucho texto y unas advertencias que no tiene importancia. Una
vez terminado saldrá algo parecido a esto:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">...</span>
<span class="go">Opened project curso-de-git (/home/fraya/Dylan/curso-de-git/curso-de-git.lid)</span>
<span class="go">Build of &#39;curso-de-git&#39; completed</span>
<span class="go">[========================================] Building targets: dll within /hom...</span>
</pre></div>
</div>
<p>Los programas ejecutables se encuentran en <code class="docutils literal notranslate"><span class="pre">_build/bin</span></code>. Ejecutemos
las pruebas:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>_build/bin/curso-de-git-test-suite
<span class="go">Suite curso-de-git-test-suite:</span>
<span class="go">Test test-greeting:</span>
<span class="go">Test test-greeting PASSED in 0.000048s and 8KiB</span>
<span class="go">Test test-$greeting:</span>
<span class="go">Test test-$greeting PASSED in 0.000032s and 2KiB</span>
<span class="go">Suite curso-de-git-test-suite PASSED in 0.000080s and 10KiB</span>
<span class="go">Ran 2 assertions</span>
<span class="go">Ran 2 tests</span>
<span class="go">PASSED in 0.000080 seconds</span>
</pre></div>
</div>
<p>Ejecutemos ahora el programa:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>_build/bin/curso-de-git-app
<span class="go">Hello world!</span>
</pre></div>
</div>
<p>Nos gustaría que el mensaje fuera distinto de <em>Hello world!</em> y que
dijese <em>¡Hola mundo!</em> u <em>¡Hola mamá!</em>. Vamos a cambiar el código para
que al pasarle un parámetro nos devuelva un <em>Hola</em> personalizado.</p>
<p>Primero voy a cambiar las pruebas con lo que quiero que salga:</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">tests/curso-de-git-test-suite.dylan</span><a class="headerlink" href="#id11" title="Link to this code">¶</a></div>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="na">Module</span><span class="o">:</span><span class="w"> </span><span class="s">curso-de-git-test-suite</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">define</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">test-$greeting</span><span class="w"> </span><span class="p">()</span>
<span class="hll"><span class="linenos"> 4</span><span class="w">  </span><span class="n">assert-equal</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">,</span><span class="w"> </span><span class="no">$greeting</span><span class="p">);</span>
</span><span class="linenos"> 5</span><span class="k">end</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="k">define</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">test-greeting</span><span class="w"> </span><span class="p">()</span>
<span class="hll"><span class="linenos"> 8</span><span class="w">  </span><span class="n">assert-equal</span><span class="p">(</span><span class="s">&quot;¡Hola mundo!&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="s">&quot;mundo&quot;</span><span class="p">));</span>
</span><span class="linenos"> 9</span><span class="k">end</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="c1">// Use `_build/bin/curso-de-git-test-suite --help` to see options.</span>
<span class="linenos">12</span><span class="n">run-test-application</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>En la línea 4, quiero asegurarme que la constante <code class="docutils literal notranslate"><span class="pre">$greeting</span></code> que
contenía <em>Hello World!</em> se vaya a cambiar por <em>Hola</em>.</p>
<p>En la línea 8, quiero que cuando le pase el parámetro <em>mundo</em> a la
función <code class="docutils literal notranslate"><span class="pre">greeting</span></code> me devuelva <em>¡Hola mundo!</em>.</p>
<p>Realizo los cambios, compilo con <code class="docutils literal notranslate"><span class="pre">dylan</span> <span class="pre">build</span> <span class="pre">-a</span></code> o <code class="docutils literal notranslate"><span class="pre">dylan</span> <span class="pre">build</span>
<span class="pre">--all</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dylan<span class="w"> </span>build<span class="w"> </span>-a
<span class="go">Open Dylan 2023.1</span>

<span class="go">Opened project curso-de-git-app (/home/fraya/Dylan/curso-de-git/curso-de-git-app.lid)</span>
<span class="go">Build of &#39;curso-de-git-app&#39; completed</span>
<span class="go">[====================================    ] Building targets: exe within /hom...Open Dylan 2023.1</span>

<span class="go">Opened project curso-de-git-test-suite (/home/fraya/Dylan/curso-de-git/tests/curso-de-git-test-suite.lid)</span>

<span class="hll"><span class="go">/home/fraya/Dylan/curso-de-git/tests/curso-de-git-test-suite.dylan:8.33-50:</span>
</span><span class="hll"><span class="go">Serious warning - Too many arguments in call to method greeting () =&gt; (s :: &lt;string&gt;) - 1 supplied, 0 expected.</span>
</span><span class="go">                                   -----------------</span>
<span class="hll"><span class="go">     assert-equal(&quot;¡Hola mundo!&quot;, greeting(&quot;mundo&quot;));</span>
</span><span class="go">                                   -----------------</span>
<span class="go">Build of &#39;curso-de-git-test-suite&#39; completed</span>
<span class="go">[=================================       ] Building targets: exe within /hom...Build of &quot;curso-de-git-test-suite&quot; failed with exit status 3.</span>
</pre></div>
</div>
<p>El compilador se pone serio y nos avisa con un <em>Serious warning</em> de
que tenemos demasiados argumentos para llamar al método <code class="docutils literal notranslate"><span class="pre">greeting</span></code>,
que esperaba 0 y le hemos pasado 1. En la siguiente línea nos muestra
donde ha visto el código sospechoso.</p>
<p>Como un día que vas a cenar y se presenta alguien sin avisar, el
método <code class="docutils literal notranslate"><span class="pre">greeting</span></code> tiene un invitado que no esperaba. ¿Qué pasará si
ejecutamos las pruebas?</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">$ </span>_build/bin/curso-de-git-test-suite
<span class="linenos"> 2</span><span class="go">Suite curso-de-git-test-suite:</span>
<span class="hll"><span class="linenos"> 3</span><span class="go">  Test test-$greeting:</span>
</span><span class="linenos"> 4</span><span class="go">    FAILED: &quot;Hola&quot; = $greeting</span>
<span class="linenos"> 5</span><span class="go">      want: &quot;Hola&quot;</span>
<span class="linenos"> 6</span><span class="go">      got:  &quot;Hello world!&quot;</span>
<span class="linenos"> 7</span><span class="go">      detail: sizes differ (4 and 12); element 1 is the first mismatch</span>
<span class="linenos"> 8</span><span class="go">  Test test-$greeting FAILED in 0.000245s and 23KiB</span>
<span class="hll"><span class="linenos"> 9</span><span class="go">  Test test-greeting:</span>
</span><span class="linenos">10</span><span class="go">    CRASHED: &quot;\&lt;C2&gt;\&lt;A1&gt;Hola mundo!&quot; = greeting(&quot;mundo&quot;)</span>
<span class="linenos">11</span><span class="go">      Error evaluating assert-equal expressions: Attempted to call {&lt;simple-method&gt;: ??? () =&gt; (&lt;string&gt;)} with 1 arguments</span>
<span class="linenos">12</span><span class="go">  Test test-greeting FAILED in 0.000230s and 25KiB</span>
<span class="linenos">13</span><span class="go">Suite curso-de-git-test-suite FAILED in 0.000475s and 47KiB</span>
<span class="linenos">14</span><span class="go">  FAILED: curso-de-git-test-suite</span>
<span class="linenos">15</span><span class="go">  FAILED: test-$greeting</span>
<span class="linenos">16</span><span class="go">  FAILED: &quot;Hola&quot; = $greeting</span>
<span class="linenos">17</span><span class="go">     want: &quot;Hola&quot;</span>
<span class="linenos">18</span><span class="go">     got:  &quot;Hello world!&quot;</span>
<span class="linenos">19</span><span class="go">     detail: sizes differ (4 and 12); element 1 is the first mismatch</span>
<span class="linenos">20</span><span class="go">  FAILED: test-greeting</span>
<span class="linenos">21</span><span class="go">  CRASHED: &quot;\&lt;C2&gt;\&lt;A1&gt;Hola mundo!&quot; = greeting(&quot;mundo&quot;)</span>
<span class="linenos">22</span><span class="go">     Error evaluating assert-equal expressions: Attempted to call {&lt;simple-method&gt;: ??? () =&gt; (&lt;string&gt;)} with 1 arguments</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="go">Ran 2 assertions</span>
<span class="linenos">25</span><span class="go">Ran 2 tests: 2 failed</span>
<span class="linenos">26</span><span class="go">FAILED in 0.000475 seconds</span>
</pre></div>
</div>
<p>En la línea 3 vemos que la primera prueba ha fallado, queríamos
(<em>want</em>) que saliera <em>Hola</em>, pero tuvimos (<em>got</em>) <em>Hello world!</em>.</p>
<p>En la línea 9 nuestro segunda prueba también ha fallado, esta vez con
el programa roto (<em>crashed</em>). El programa ha preferido suicidarse
antes que ejecutar algo que podría haber estropeado el ordenador.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Cuando un programa hace un <em>crash</em>, se mata el mismo y suele
escribir un volcado de la memoria en el momento de la ejecución
para que el programador haga la autopsia y pueda saber que
pasó. Este volcado se conoce como <em>core dump</em>. El volcado del
fallo y el lugar donde se guarda dependen de tu sistema
operativo. ¡Ya tienes deberes, averígualo!.</p>
</div>
<p>Vamos a arreglarlo, primero cambiaremos la constante <code class="docutils literal notranslate"><span class="pre">$greeting</span></code>
para que contenga <em>Hola</em> en lugar de <em>Hello world!</em>.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">curso-de-git.dylan</span><a class="headerlink" href="#id12" title="Link to this code">¶</a></div>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="na">Module</span><span class="o">:</span><span class="w"> </span><span class="s">curso-de-git-impl</span>

<span class="c1">// Internal</span>
<span class="hll"><span class="k">define</span><span class="w"> </span><span class="nb">constant</span><span class="w"> </span><span class="no">$greeting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hola&quot;</span><span class="p">;</span>
</span>
<span class="c1">// Exported</span>
<span class="k">define</span><span class="w"> </span><span class="nb">function</span><span class="w"> </span><span class="n">greeting</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;string&gt;</span><span class="p">)</span>
<span class="w">  </span><span class="no">$greeting</span>
<span class="k">end</span><span class="w"> </span><span class="nb">function</span><span class="p">;</span>
</pre></div>
</div>
</div>
<p>Grabamos, compilamos (<code class="docutils literal notranslate"><span class="pre">dylan</span> <span class="pre">build</span> <span class="pre">-a</span></code>) y ejecutamos las pruebas
(<code class="docutils literal notranslate"><span class="pre">_build/bin/curso-de-git-test-suite`</span></code>).</p>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="n">Suite</span><span class="w"> </span><span class="k">curso-de-git-test-suite:</span>
<span class="w">  </span><span class="n">Test</span><span class="w"> </span><span class="k">test-$greeting:</span>
<span class="hll"><span class="w">  </span><span class="n">Test</span><span class="w"> </span><span class="n">test-$greeting</span><span class="w"> </span><span class="n">PASSED</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.000050</span><span class="n">s</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">8</span><span class="n">KiB</span>
</span><span class="w">  </span><span class="n">Test</span><span class="w"> </span><span class="k">test-greeting:</span>
<span class="w">    </span><span class="k">CRASHED:</span><span class="w"> </span><span class="s">&quot;\&lt;C2&gt;\&lt;A1&gt;Hola mundo!&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="s">&quot;mundo&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="nb">Error</span><span class="w"> </span><span class="n">evaluating</span><span class="w"> </span><span class="n">assert-equal</span><span class="w"> </span><span class="k">expressions:</span><span class="w"> </span><span class="n">Attempted</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="p">{</span><span class="k">&lt;simple-method&gt;:</span><span class="w"> </span><span class="nt">???</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nc">&lt;string&gt;</span><span class="p">)}</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">arguments</span>
<span class="w">  </span><span class="n">Test</span><span class="w"> </span><span class="n">test-greeting</span><span class="w"> </span><span class="n">FAILED</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.000266</span><span class="n">s</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">30</span><span class="n">KiB</span>
<span class="n">Suite</span><span class="w"> </span><span class="n">curso-de-git-test-suite</span><span class="w"> </span><span class="n">FAILED</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.000316</span><span class="n">s</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="mi">38</span><span class="n">KiB</span>
<span class="w"> </span><span class="k">FAILED:</span><span class="w"> </span><span class="n">curso-de-git-test-suite</span>
<span class="w"> </span><span class="k">FAILED:</span><span class="w"> </span><span class="n">test-greeting</span>
<span class="w">    </span><span class="k">CRASHED:</span><span class="w"> </span><span class="s">&quot;\&lt;C2&gt;\&lt;A1&gt;Hola mundo!&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="s">&quot;mundo&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="nb">Error</span><span class="w"> </span><span class="n">evaluating</span><span class="w"> </span><span class="n">assert-equal</span><span class="w"> </span><span class="k">expressions:</span><span class="w"> </span><span class="n">Attempted</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="p">{</span><span class="k">&lt;simple-method&gt;:</span><span class="w"> </span><span class="nt">???</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nc">&lt;string&gt;</span><span class="p">)}</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">arguments</span>

<span class="n">Ran</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">assertions</span>
<span class="n">Ran</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">tests:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">failed</span>
<span class="n">FAILED</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.000316</span><span class="w"> </span><span class="n">seconds</span>
</pre></div>
</div>
<p>Bueno, la primera prueba ya ha pasado con éxito, pero aún nos queda
arreglar la segunda. Esta será más complicada.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">curso-de-git.dylan</span><a class="headerlink" href="#id13" title="Link to this code">¶</a></div>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="na">Module</span><span class="o">:</span><span class="w"> </span><span class="s">curso-de-git-impl</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="c1">// Internal</span>
<span class="linenos">4</span><span class="k">define</span><span class="w"> </span><span class="nb">constant</span><span class="w"> </span><span class="no">$greeting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hola&quot;</span><span class="p">;</span>
<span class="linenos">5</span>
<span class="linenos">6</span><span class="c1">// Exported</span>
<span class="hll"><span class="linenos">7</span><span class="k">define</span><span class="w"> </span><span class="nb">function</span><span class="w"> </span><span class="n">greeting</span><span class="w"> </span><span class="p">(</span><span class="n">mensaje</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;string&gt;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">8</span><span class="w">  </span><span class="nb">concatenate</span><span class="p">(</span><span class="s">&quot;¡&quot;</span><span class="p">,</span><span class="w"> </span><span class="no">$greeting</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;!&quot;</span><span class="p">)</span>
</span><span class="linenos">9</span><span class="k">end</span><span class="w"> </span><span class="nb">function</span><span class="p">;</span>
</pre></div>
</div>
</div>
<p>Primero en la línea 7 pasamos a <code class="docutils literal notranslate"><span class="pre">greeting</span></code> el parámetro <code class="docutils literal notranslate"><span class="pre">mensaje</span></code>,
que pasa de no esperar a ninguno <code class="docutils literal notranslate"><span class="pre">()</span></code> a esperar uno <code class="docutils literal notranslate"><span class="pre">(mensaje)</span></code>.</p>
<p>En la línea 8 unimos todas las cadenas para conseguir el <em>¡Hola
&lt;mensaje&gt;!</em>.</p>
<p>Grabamos y compilamos el código:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dylan<span class="w"> </span>build<span class="w"> </span>-a
<span class="go">Open Dylan 2023.1</span>

<span class="go">Opened project curso-de-git-app (/home/fraya/Dylan/curso-de-git/curso-de-git-app.lid)</span>

<span class="hll"><span class="go">/home/fraya/Dylan/curso-de-git/curso-de-git-app.dylan:5.22-32:</span>
</span><span class="go">Serious warning - Too few arguments in call to method</span>
<span class="go">greeting (mensaje :: &lt;object&gt;) =&gt; (s :: &lt;string&gt;) -</span>
<span class="go">0 supplied, 1 expected.</span>
<span class="go">                        ----------</span>
<span class="go">     format-out(&quot;%s\n&quot;, greeting());</span>
<span class="go">                        ----------</span>
<span class="go">Build of &#39;curso-de-git-app&#39; completed</span>
<span class="go">[====================================    ] Building targets: exe within /hom</span>
</pre></div>
</div>
<p>Claro, hemos arreglado las pruebas pero no el programa principal, que
sigue esperando una función <code class="docutils literal notranslate"><span class="pre">greeting</span></code> sin parámetros.</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">curso-de-git-app.dylan</span><a class="headerlink" href="#id14" title="Link to this code">¶</a></div>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="na">Module</span><span class="o">:</span><span class="w"> </span><span class="s">curso-de-git-app</span>

<span class="k">define</span><span class="w"> </span><span class="nb">function</span><span class="w"> </span><span class="n">main</span>
<span class="w">    </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;string&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;vector&gt;</span><span class="p">)</span>
<span class="hll"><span class="w">  </span><span class="n">format-out</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
</span><span class="w">  </span><span class="n">exit-application</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nb">function</span><span class="p">;</span>

<span class="c1">// Calling our main function (which could have any name) should be the last</span>
<span class="c1">// thing we do</span>
<span class="n">main</span><span class="p">(</span><span class="n">application-name</span><span class="p">(),</span><span class="w"> </span><span class="n">application-arguments</span><span class="p">());</span>
</pre></div>
</div>
</div>
<p>Le pasamos a <code class="docutils literal notranslate"><span class="pre">greeting</span></code> el primer argumento que le pase el usuario
al programa ejecutable (<code class="docutils literal notranslate"><span class="pre">arguments[0]</span></code>).</p>
<p>Grabamos, compilamos (ya no se muestran errores) y probamos.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>_build/bin/curso-de-git-test-suite
<span class="go">Suite curso-de-git-test-suite:</span>
<span class="go"> Test test-greeting:</span>
<span class="hll"><span class="go"> Test test-greeting PASSED in 0.000066s and 8KiB</span>
</span><span class="go"> Test test-$greeting:</span>
<span class="hll"><span class="go"> Test test-$greeting PASSED in 0.000009s and 2KiB</span>
</span><span class="go">Suite curso-de-git-test-suite PASSED in 0.000075s and 10KiB</span>
<span class="go">Ran 2 assertions</span>
<span class="go">Ran 2 tests</span>
<span class="hll"><span class="go">PASSED in 0.000075 seconds</span>
</span></pre></div>
</div>
<p>¡Conseguido! Ahora probamos el programa:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>_build/bin/curso-de-git-app<span class="w"> </span>mundo
<span class="go">¡Hola mundo!</span>
<span class="gp">$ </span>_build/bin/curso-de-git-app<span class="w"> </span>Luisa
<span class="go">¡Hola Luisa!</span>
</pre></div>
</div>
<p>Dan ganas de saludar a todo el mundo. Tranquila. Vamos a ver el
repositorio.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status
<span class="go">On branch main</span>
<span class="go">Changes not staged for commit:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="go">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="hll"><span class="go">        modified:   curso-de-git-app.dylan</span>
</span><span class="hll"><span class="go">        modified:   curso-de-git.dylan</span>
</span><span class="hll"><span class="go">        modified:   tests/curso-de-git-test-suite.dylan</span>
</span>
<span class="go"> Untracked files:</span>
<span class="go">   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="hll"><span class="go">        _build/</span>
</span>
<span class="go"> no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>
<p>Por un lado vemos que tenemos ficheros modificados (<em>modified</em>) que
deberíamos añadir al <em>stage</em>. Por otro que el compilador ha creado el
directorio <code class="docutils literal notranslate"><span class="pre">_build/</span></code> y que no tiene seguimiento.</p>
<p>Añadimos a nuestro fichero <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> la línea:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>directorios<span class="w"> </span>de<span class="w"> </span>desarrollo

<span class="go">/_packages/</span>
<span class="go">/registry/</span>
<span class="hll"><span class="go">/_build/</span>
</span>
<span class="gp"># </span>ficheros<span class="w"> </span>de<span class="w"> </span>copia<span class="w"> </span>de<span class="w"> </span>seguridad

<span class="go">*~</span>
<span class="go">*.bak</span>
</pre></div>
</div>
<p>Una vez quitado este directorio que no necesitamos, añadimos todos los
cambios.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>.
<span class="gp">$ </span>git<span class="w"> </span>status
<span class="go">On branch main</span>
<span class="go">Changes to be committed:</span>
<span class="go">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span class="go">     modified:   .gitignore</span>
<span class="go">     modified:   curso-de-git-app.dylan</span>
<span class="go">     modified:   curso-de-git.dylan</span>
<span class="go">     modified:   tests/curso-de-git-test-suite.dylan</span>
</pre></div>
</div>
<p>Confirmamos los cambios</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Parametrizar el mensaje de saludo&quot;</span>
<span class="go">[master 73c695b] Parametrizar el mensaje de saludo</span>
<span class="go">4 files changed, 8 insertions(+), 7 deletions(-)</span>
</pre></div>
</div>
<p>Ahora nuestro repositorio tiene este aspecto:</p>
<blockquote>
<div><figure class="align-center" id="id15">
<div class="graphviz"><img src="_images/graphviz-06cd4efb4bdfdf02516e426763ef776335db432d.png" alt="digraph G {
        rankdir=&quot;RL&quot;;
        splines=line;

        c1 -&gt; c0

        {
            rank=same;
            node [
                style=filled,
                color=red,
                fillcolor=red,
                shape=rectangle,
                fontname=monospace,
                fontcolor=white
            ]

            c1 -&gt; &quot;73c695b&quot; [dir=back]
            main -&gt; c1
        }
}" class="graphviz" /></div>
<figcaption>
<p><span class="caption-text">Rama main tras commit <code class="docutils literal notranslate"><span class="pre">73c695b</span></code></span><a class="headerlink" href="#id15" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
</section>
<section id="diferencias-entre-workdir-y-staging">
<h2>Diferencias entre <em>workdir</em> y <em>staging</em><a class="headerlink" href="#diferencias-entre-workdir-y-staging" title="Link to this heading">¶</a></h2>
<p>Aún hay un problema si llamamos a nuestro programa sin argumentos de
entrada.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>_build/bin/curso-de-git-app
<span class="hll"><span class="go">ELEMENT outside of range: 0</span>
</span><span class="go">Backtrace:</span>
<span class="go">  invoke-debugger:internal:dylan##1 + 0x29</span>
<span class="go">  default-handler:dylan:dylan##1 + 0x12</span>
<span class="go">  default-last-handler:common-dylan-internals:common-dylan##0 + 0x2f1</span>
<span class="go">  error:dylan:dylan##0 + 0x27</span>
<span class="go">  0x7f2fe2051a15</span>
<span class="go">  0x7f2fe2062017</span>
<span class="go">  0x7f2fe23e728f</span>
<span class="go">  0x5571c9bf1159</span>
<span class="go">  0x7f2fe1a7f14a</span>
<span class="go">  __libc_start_main + 0x8b</span>
<span class="go">  0x5571c9bf1075</span>
</pre></div>
</div>
<p>El programa falla porque no hay un elemento 0 en los
argumentos. Modifiquemos la aplicación.</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">curso-de-git-app.dylan</span><a class="headerlink" href="#id16" title="Link to this code">¶</a></div>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="na">Module</span><span class="o">:</span><span class="w"> </span><span class="s">curso-de-git-app</span>

<span class="k">define</span><span class="w"> </span><span class="nb">function</span><span class="w"> </span><span class="n">main</span>
<span class="w">    </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;string&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;vector&gt;</span><span class="p">)</span>
<span class="hll"><span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">mensaje</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">arguments</span><span class="p">.</span><span class="nb">size</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll"><span class="w">                  </span><span class="s">&quot;mundo&quot;</span>
</span><span class="hll"><span class="w">                </span><span class="k">else</span>
</span><span class="hll"><span class="w">                  </span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class="hll"><span class="w">                </span><span class="k">end</span><span class="p">;</span>
</span><span class="w">  </span><span class="n">format-out</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="n">mensaje</span><span class="p">));</span>
<span class="w">  </span><span class="n">exit-application</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nb">function</span><span class="p">;</span>

<span class="c1">// Calling our main function (which could have any name) should be the last</span>
<span class="c1">// thing we do</span>
<span class="n">main</span><span class="p">(</span><span class="n">application-name</span><span class="p">(),</span><span class="w"> </span><span class="n">application-arguments</span><span class="p">());</span>
</pre></div>
</div>
</div>
<p>Esta vez añadimos los cambios a la fase de <em>staging</em>, pero sin
confirmarlos (<em>commit</em>).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>curso-de-git-app.dylan
</pre></div>
</div>
<p>Volvemos a modificar el programa para indicar con un comentario lo que
hemos hecho:</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">curso-de-git-app.dylan</span><a class="headerlink" href="#id17" title="Link to this code">¶</a></div>
<div class="highlight-dylan notranslate"><div class="highlight"><pre><span></span><span class="na">Module</span><span class="o">:</span><span class="w"> </span><span class="s">curso-de-git-app</span>

<span class="k">define</span><span class="w"> </span><span class="nb">function</span><span class="w"> </span><span class="n">main</span>
<span class="w">    </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;string&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="nc">&lt;vector&gt;</span><span class="p">)</span>
<span class="hll"><span class="w">  </span><span class="c1">// Si no hay argumentos poner mensaje por defecto</span>
</span><span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">mensaje</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">arguments</span><span class="p">.</span><span class="nb">size</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">                  </span><span class="s">&quot;mundo&quot;</span>
<span class="w">                </span><span class="k">else</span>
<span class="w">                  </span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">                </span><span class="k">end</span><span class="p">;</span>
<span class="w">  </span><span class="n">format-out</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="n">mensaje</span><span class="p">));</span>
<span class="w">  </span><span class="n">exit-application</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="nb">function</span><span class="p">;</span>

<span class="c1">// Calling our main function (which could have any name) should be the last</span>
<span class="c1">// thing we do</span>
<span class="n">main</span><span class="p">(</span><span class="n">application-name</span><span class="p">(),</span><span class="w"> </span><span class="n">application-arguments</span><span class="p">());</span>
</pre></div>
</div>
</div>
<p>Veamos el estado del repositorio:</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Estado del repositorio con un fichero en <em>stage</em> y otro en <em>workdir</em></span><a class="headerlink" href="#id18" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>status
<span class="go">On branch main</span>
<span class="go">Changes to be committed:</span>
<span class="go">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span class="hll"><span class="go">        modified:   curso-de-git-app.dylan</span>
</span>
<span class="go">Changes not staged for commit:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="go">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="hll"><span class="go">        modified:   curso-de-git-app.dylan</span>
</span></pre></div>
</div>
</div>
<p>Podemos ver como aparecen el archivo <code class="docutils literal notranslate"><span class="pre">curso-de-git-app.dylan</span></code> dos
veces. El primero está preparado para ser confirmado y está almacenado
en la zona de <em>staging</em>. El segundo indica que el archivo
<code class="docutils literal notranslate"><span class="pre">curso-de-git-app.dylan</span></code> está modificado otra vez en la zona de
trabajo (<em>workdir</em>).</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Si volvieramos a hacer un <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">curso-de-git-app.dylan</span></code>
sobreescribiríamos los cambios previos que había en la zona de
<em>staging</em>.</p>
</div>
<p>Almacenamos los cambios por separado:</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">Añadir el parámetro por defecto</span><a class="headerlink" href="#id19" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Se añade un parámetro por defecto&quot;</span>
</span><span class="go">[master 47e9e6f] Se añade un parámetro por defecto</span>
<span class="go">1 file changed, 5 insertions(+)</span>

<span class="hll"><span class="gp">$ </span>git<span class="w"> </span>status
</span><span class="go">On branch main</span>
<span class="go">Changes not staged for commit:</span>
<span class="go">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="go">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="go">        modified:   curso-de-git-app.dylan</span>

<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>

<span class="hll"><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>.
</span><span class="hll"><span class="gp">$ </span>git<span class="w"> </span>status
</span><span class="go">On branch main</span>
<span class="go">Changes to be committed:</span>
<span class="go">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span class="go">        modified:   curso-de-git-app.dylan</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="id20">
<div class="graphviz"><img src="_images/graphviz-a548b6f10378771924ff39967b0457ed045e0014.png" alt="digraph G {
         rankdir=&quot;RL&quot;;
         splines=line;

         c2 -&gt; c1 -&gt; c0

         {
         rank=same;
             node [
                 style=filled,
                 color=red,
                 fillcolor=red,
                 shape=rectangle,
                 fontname=monospace,
                 fontcolor=white
             ]

             c2 -&gt; &quot;47e9e6f&quot; [dir=back]
             main -&gt; c2
         }
}" class="graphviz" /></div>
<figcaption>
<p><span class="caption-text">Rama main tras commit <code class="docutils literal notranslate"><span class="pre">47e9e6f</span></code></span><a class="headerlink" href="#id20" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">Añadir el comentario</span><a class="headerlink" href="#id21" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Añade comentario para parámetro por defecto&quot;</span>
<span class="go">[main 2ee18ff] Añade comentario para parámetro por defecto</span>
<span class="go">1 file changed, 1 insertion(+)</span>
</pre></div>
</div>
</div>
<figure class="align-center" id="id22">
<div class="graphviz"><img src="_images/graphviz-0577e85dbb3aa8b895fad2a398b245be5de9f09c.png" alt="digraph G {
         rankdir=&quot;RL&quot;;
         splines=line;

         c3 -&gt; c2 -&gt; c1 -&gt; c0

         {
           rank=same;
           node [
                 style=filled,
                 color=red,
                 fillcolor=red,
                 shape=rectangle,
                 fontname=monospace,
                 fontcolor=white
           ]

             c3 -&gt; &quot;2ee18ff&quot; [dir=back]
             main -&gt; c3
         }
}" class="graphviz" /></div>
<figcaption>
<p><span class="caption-text">Rama main tras commit <code class="docutils literal notranslate"><span class="pre">2ee18ff</span></code></span><a class="headerlink" href="#id22" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="trabajando-con-el-historial">
<h2>Trabajando con el historial<a class="headerlink" href="#trabajando-con-el-historial" title="Link to this heading">¶</a></h2>
<p>Con la orden <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> podemos ver todos los cambios que hemos
hecho:</p>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">Salida de <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code></span><a class="headerlink" href="#id23" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Author: Fernando Raya &lt;fraya@ieszaidinvergeles.org&gt;</span>
<span class="go">Date:   Sat May 18 17:02:01 2024 +0200</span>

<span class="go">    Añade comentario para parámetro por defecto</span>

<span class="go">commit 47e9e6f5ba7aa85e63d17c31e244f020a93ec8bb</span>
<span class="go">Author: Fernando Raya &lt;fraya@ieszaidinvergeles.org&gt;</span>
<span class="go">Date:   Sat May 18 17:00:59 2024 +0200</span>

<span class="go">    Se añade un parámetro por defecto</span>

<span class="go">commit 73c695b8c026eb0f7c5ff3bf0ad6215dee359953</span>
<span class="go">Author: Fernando Raya &lt;fraya@ieszaidinvergeles.org&gt;</span>
<span class="go">Date:   Sat May 18 14:01:28 2024 +0200</span>

<span class="go">    Parametrizar el mensaje de saludo</span>

<span class="go">commit 81f67ea62cc92abc6e39a9daaae9d207165def31</span>
<span class="go">Author: Fernando Raya &lt;fraya@ieszaidinvergeles.org&gt;</span>
<span class="go">Date:   Sat May 18 11:02:01 2024 +0200</span>

<span class="go">    Revisión inicial</span>
</pre></div>
</div>
</div>
<p>También es posible ver versiones abreviadas o limitadas, dependiendo
de los parámetros:</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Salida de <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--oneline</span></code></span><a class="headerlink" href="#id24" title="Link to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
<span class="go">2ee18ff (HEAD -&gt; main) Añade comentario para parámetro por defecto</span>
<span class="go">47e9e6f Se añade un parámetro por defecto</span>
<span class="go">73c695b Parametrizar el mensaje de saludo</span>
<span class="go">81f67ea Revisión inicial</span>
</pre></div>
</div>
</div>
<p>Una versión muy útil de <cite>git log</cite> es la siguiente, pues nos permite
ver en que lugares está <code class="docutils literal notranslate"><span class="pre">main</span></code> y <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>, entre otras cosas:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git log --pretty=format:&#39;%h %ad | %s%d [%an]&#39; --grap--date=short</span>
<span class="go">* 2ee18ff 2024-05-18 | Añade comentario para parámetro por defecto (HEAD -&gt; main) [Fernando Raya]</span>
<span class="go">* 47e9e6f 2024-05-18 | Se añade un parámetro por defecto [Fernando Raya]</span>
<span class="go">* 73c695b 2024-05-18 | Parametrizar el mensaje de saludo [Fernando Raya]</span>
<span class="go">* 81f67ea 2024-05-18 | Revisión inicial [Fernando Raya]</span>
</pre></div>
</div>
</section>
<section id="recuperando-versiones-anteriores">
<h2>Recuperando versiones anteriores<a class="headerlink" href="#recuperando-versiones-anteriores" title="Link to this heading">¶</a></h2>
<p>Cada cambio es etiquetado por un hash, para poder regresar a ese
momento del estado del proyecto se usa la orden <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>checkout<span class="w"> </span>81f67ea
<span class="go">Note: checking out &#39;81f67ea&#39;.</span>

<span class="go">You are in &#39;detached HEAD&#39; state. You can look around, make experimental</span>
<span class="go">changes and commit them, and you can discard any commits you make in this</span>
<span class="go">state without impacting any branches by performing another checkout.</span>

<span class="go">If you want to create a new branch to retain commits you create, you may</span>
<span class="go">do so (now or later) by using -b with the checkout command again. Example:</span>

<span class="go">  git checkout -b new_branch_name</span>

<span class="go">HEAD is now at 81f67ea... Revisión inicial</span>
</pre></div>
</div>
<p>El aviso que nos sale nos indica que estamos en un estado donde no
trabajamos en ninguna rama concreta. Eso significa que los cambios que
hagamos podrían «perderse» porque si no son guardados en una nueva
rama, en principio no podríamos volver a recuperarlos. Hay que pensar
que Git es como un árbol donde un nodo tiene información de su nodo
padre, no de sus nodos hijos, con lo que siempre necesitaríamos
información de dónde se encuentran los nodos finales o de otra manera
no podríamos acceder a ellos.</p>
</section>
<section id="volver-a-la-ultima-version-de-la-rama-main">
<h2>Volver a la última versión de la rama main<a class="headerlink" href="#volver-a-la-ultima-version-de-la-rama-main" title="Link to this heading">¶</a></h2>
<p>Usamos <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> indicando el nombre de la rama:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>checkout<span class="w"> </span>main

<span class="go">Previous HEAD position was 81f67ea... Revisión inicial</span>
</pre></div>
</div>
</section>
<section id="etiquetando-versiones">
<h2>Etiquetando versiones<a class="headerlink" href="#etiquetando-versiones" title="Link to this heading">¶</a></h2>
<p>Para poder recuperar versiones concretas en la historia del
repositorio, podemos etiquetarlas, lo cual es más facil que usar un
hash. Para eso usaremos la orden <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>tag<span class="w"> </span>v1
</pre></div>
</div>
<p>Ahora vamos a etiquetar la versión inmediatamente anterior como
v1-beta. Para ello podemos usar los modificadores <code class="docutils literal notranslate"><span class="pre">^</span></code> o <code class="docutils literal notranslate"><span class="pre">~</span></code> que
nos llevarán a un ancestro determinado. Las siguientes dos órdenes son
equivalentes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>checkout<span class="w"> </span>v1^
<span class="gp">$ </span>git<span class="w"> </span>checkout<span class="w"> </span>v1~1
</pre></div>
</div>
<p>Si ejecutamos la orden sin parámetros nos mostrará todas las etiquetas
existentes.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>tag
<span class="go">v1</span>
</pre></div>
</div>
<p>Y para verlas en el historial:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>log<span class="w"> </span>--oneline
<span class="go">b804719 (HEAD -&gt; main, tag: v1) Añade comentario para parámetro por defecto</span>
<span class="go">9f41f0b Se añade un parámetro por defecto</span>
<span class="go">cf2b658 Parametrizar el mensaje de saludo</span>
<span class="go">56b0ec5 Revisión inicial</span>
</pre></div>
</div>
</section>
<section id="ignorando-archivos">
<h2>Ignorando archivos<a class="headerlink" href="#ignorando-archivos" title="Link to this heading">¶</a></h2>
<p>Ya hemos visto antes que podemos ignorar ciertos ficheros para que no
entren en nuestro repositorio.  La orden <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> o <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span>
<span class="pre">nombre_directorio</span></code> es muy cómoda, ya que nos permite añadir todos los
archivos del proyecto o todos los contenidos en un directorio y sus
subdirectorios. Es mucho más rápido que tener que ir añadiéndolos uno
por uno. El problema es que, si no se tiene cuidado, se puede terminar
por añadir archivos innecesarios o con información sensible.</p>
<p>Por lo general se debe evitar añadir archivos que se hayan generado
como producto de la compilación del proyecto, los que generen los
entornos de desarrollo (archivos de configuración y temporales) y
aquellos que contentan información sensible, como contraseñas o tokens
de autenticación. Por ejemplo, en un proyecto de C/C++, los archivos
objeto no deben incluirse, solo los que contengan código fuente y los
make que los generen.</p>
<p>Para indicarle a git que debe ignorar un archivo, se puede crear un
fichero llamado <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>, bien en la raíz del proyecto o en los
subdirectorios que queramos. Dicho fichero puede contener patrones,
uno en cada línea, que especiquen qué archivos deben ignorarse. El
formato es el siguiente:</p>
<div class="highlight-default notranslate" id="id1"><div class="highlight"><pre><span></span>dir1/           # ignora todo lo que contenga el directorio dir1
!dir1/info.txt  # El operador ! excluye del ignore a dir1/info.txt (sí se guardaría)
dir2/*.txt      # ignora todos los archivos txt que hay en el directorio dir2
dir3/**/*.txt   # ignora todos los archivos txt que hay en el dir3 y sus subdirectorios
*.o             # ignora todos los archivos con extensión .o en todos los directorio
</pre></div>
</div>
<p>Cada tipo de proyecto genera sus ficheros temporales, así que para
cada proyecto hay un <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> apropiado. Existen repositorios
que ya tienen creadas plantillas. Podéis encontrar uno en
<a class="reference external" href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="git-uso-avanzado.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Uso avanzado de Git</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="git-basico.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Aspectos básicos de Git</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Fernando Raya
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Uso básico de Git</a><ul>
<li><a class="reference internal" href="#crear-un-proyecto">Crear un proyecto</a></li>
<li><a class="reference internal" href="#crear-el-repositorio">Crear el repositorio</a></li>
<li><a class="reference internal" href="#anadir-la-aplicacion">Añadir la aplicación</a><ul>
<li><a class="reference internal" href="#gitignore">.gitignore</a></li>
<li><a class="reference internal" href="#ahora-si-anadimos-la-aplicacion">Ahora sí, añadimos la aplicación</a></li>
<li><a class="reference internal" href="#primera-confirmacion">Primera confirmación</a></li>
</ul>
</li>
<li><a class="reference internal" href="#primer-cambio">Primer cambio</a></li>
<li><a class="reference internal" href="#diferencias-entre-workdir-y-staging">Diferencias entre <em>workdir</em> y <em>staging</em></a></li>
<li><a class="reference internal" href="#trabajando-con-el-historial">Trabajando con el historial</a></li>
<li><a class="reference internal" href="#recuperando-versiones-anteriores">Recuperando versiones anteriores</a></li>
<li><a class="reference internal" href="#volver-a-la-ultima-version-de-la-rama-main">Volver a la última versión de la rama main</a></li>
<li><a class="reference internal" href="#etiquetando-versiones">Etiquetando versiones</a></li>
<li><a class="reference internal" href="#ignorando-archivos">Ignorando archivos</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=6fcc102b"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=35a8b989"></script>
    <script src="_static/translations.js?v=efdbd0b9"></script>
    </body>
</html>